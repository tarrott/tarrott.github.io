<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>High-level Design - Engineering Wiki</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../css/theme.css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  <link href="../../css/extra.css" rel="stylesheet" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "High-level Design";
    var mkdocs_page_input_path = "architecture/highlevel_design.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Engineering Wiki</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <p class="caption"><span class="caption-text">Architecture</span></p>
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">High-level Design</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#orthagonal-architecture">Orthagonal Architecture</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#iterative-design">Iterative Design</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#the-twelve-factor-app">The Twelve-Factor App</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#tiers-vs-layers">Tiers vs. Layers</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#distributed-systems">Distributed Systems</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#scalability">Scalability</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#vertical">Vertical</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#horizontal">Horizontal</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#monolith">Monolith</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#microservice">Microservice</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#load-balancing">Load Balancing</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#caching">Caching</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#distributed-caching">Distributed Caching</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#data-storage">Data Storage</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#data-partitioning">Data Partitioning</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#database-sharding">Database Sharding</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#indexes">Indexes</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#proxies">Proxies</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#redundancy-and-replication">Redundancy and Replication</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#sql-vs-nosql">SQL vs. NoSQL</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#cap-theorem">CAP Theorem</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#consistent-hashing">Consistent Hashing</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#message-queues">Message Queues</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#publisher-subscriber-model">Publisher / Subscriber Model</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#point-to-point-model">Point to Point Model</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#high-availability">High Availability</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#system-testing">System Testing</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#reducing-bottlenecks">Reducing Bottlenecks</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#infrastructure-changes">Infrastructure Changes</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#cloud-cost-hygiene">Cloud Cost Hygiene</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#storage-costs-considerations">Storage Costs Considerations</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#types-of-architecture">Types of Architecture</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#client-server">Client-server</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#peer-to-peer-p2p">Peer to Peer (P2P)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#federated">Federated</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#event-driven">Event-driven</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#notes">Notes</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../linux/">Linux</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../virtualization/">Virtualization</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../cicd/">CICD</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../monitoring/">Monitoring</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../security/">Security</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../chaos_eng/">Chaos Engineering</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../homelab/">Homelab</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../case_studies/">Case Studies</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Software</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../software/computer_science/">Computer Science</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../software/data_structures/">Data Structures</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../software/algorithms/">Algorithms</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../software/design_patterns/">Design Patterns</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../software/best_practices/">Best Practices</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../software/oop/">OOP</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../software/functional_paradigm/">Functional Paradigm</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../software/python/">Python</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../software/guis/">GUIs</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Data</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../data/pipelines/">Data Pipelines</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="../../data/danalysis.md">Data Analysis</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../data/machine_learning/">Machine Learning</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../data/big_data/">Big Data</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../data/storage/">Data Storage</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Math</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../math/linear_algebra/">Linear Algebra</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../math/statistics/">Statistics</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../math/calculus/">Calculus</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../design/">Design</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../resources/">Resources</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../wiki/">Wiki</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Engineering Wiki</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Architecture &raquo;</li>
        
      
    
    <li>High-level Design</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="high-level-design">High-level Design</h1>
<p>System design</p>
<hr />
<h2 id="orthagonal-architecture">Orthagonal Architecture</h2>
<ul>
<li>decoupling (you can change the UI or database without affecting the other)<ul>
<li>two different user interfaces should be able to be supported by the same underlying code base</li>
</ul>
</li>
<li>design components that are self-contained, independent, and with a single, well-defined purpose<ul>
<li>when components are isolated then one can change wihtout affecting the others</li>
<li>allow components to communicate based on external interfaces that are consistent</li>
</ul>
</li>
<li>module design - if one module is comprimised it will not affect the others</li>
<li>temporal decoupling - allow for concurrency to reduce time-based dependencies of a system</li>
<li>gain in productivity and reduces risk</li>
</ul>
<hr />
<h2 id="iterative-design">Iterative Design</h2>
<hr />
<h2 id="the-twelve-factor-app">The Twelve-Factor App</h2>
<p><a href="https://12factor.net/">Website</a></p>
<ol>
<li>Codebase: One codebase tracked in revision control, many deploys
    -</li>
<li>Dependencies: Explicitly declare and isolate dependencies
    -</li>
<li>Config: Store config in the environment
    -</li>
<li>Backing services: Treat backing services as attached resources
    -</li>
<li>Build, release, run: Strictly separate build and run stages
    -</li>
<li>Process: Execute the app as one or more stateless processes
    -</li>
<li>Port binding: Export services via port binding
    -</li>
<li>Concurrency: Scale out via the process model
    -</li>
<li>Disposability: Maximize robustness with fast startup and graceful shutdown
    -</li>
<li>Dev/prod parity: Keep development, staging, and production as similar as possible
    -</li>
<li>Logs: Treat logs as event streams
    -</li>
<li>Admin processes: Run admin/management tasks as one-off processes
    -</li>
</ol>
<hr />
<h2 id="tiers-vs-layers">Tiers vs. Layers</h2>
<ul>
<li>tiers involve physical separation of components in a system (UI, backend server, database, cache, message queues, load balancers, search, data processing, shared services)</li>
<li>layers of an application represent the organization of the code (user interface, business logic, service, or data access layer)</li>
</ul>
<hr />
<h2 id="distributed-systems">Distributed Systems</h2>
<hr />
<h2 id="scalability">Scalability</h2>
<ul>
<li>the ability of an application to handle &amp; withstand increased workload without sacrificing latency</li>
<li>if the app takes x seconds to respond to a user reqiest, it should take the same x seconds to respond to each of the million concurrent user requests on the app</li>
</ul>
<h4 id="vertical">Vertical</h4>
<ul>
<li>adding more compute power</li>
<li>does not require code refactoring</li>
</ul>
<h4 id="horizontal">Horizontal</h4>
<ul>
<li>adding more nodes/hardware to existing hardware resource pool</li>
<li>requires code refactoring to utilize distributed resources</li>
<li>higher availability</li>
</ul>
<hr />
<h4 id="monolith">Monolith</h4>
<ul>
<li>Simpler to build, test and deploy</li>
<li>Weaknesses:<ul>
<li>small code changes require an entire redeployment of the application</li>
<li>requires thorough regression testing</li>
<li>introduces single points of failure</li>
<li>flexibility and scalability are harder to achieve</li>
<li>limits the use of the application using heterogenous technologies</li>
<li>tend to be stateful and therefore making it more difficult to be cloud-native and distributed</li>
</ul>
</li>
</ul>
<h4 id="microservice">Microservice</h4>
<ul>
<li>Fault isolation</li>
<li>Easier management</li>
<li>Easier development</li>
<li>Ease of adding new features</li>
<li>Ease of maintenance</li>
<li>High availability</li>
<li>Separated responsiblity/concerns (separate teams gain increased productivity and complete ownership)</li>
<li>Weaknesses:<ul>
<li>greatly increased complexity in management and monitoring of the system (distributed logging, networking, service discovery, CICD, alerts, tracing, health checks, etc.)</li>
<li>requires more components or code to manage and utilize the distributed nodes</li>
<li>requires more human resources to manage the more complex system</li>
<li>storing consistency is hard to guarentee in a distributed environment (leans on eventual consistency)</li>
</ul>
</li>
</ul>
<hr />
<h2 id="load-balancing">Load Balancing</h2>
<hr />
<h2 id="caching">Caching</h2>
<ul>
<li>reduces latency, stores data in memory instead of accessing disk - O(1) fetches</li>
<li>avoids over computing and rerunning joins in SQL which greatly reduces latency</li>
<li>can continue to serve data requests even when the database server goes down</li>
<li>can be implanted at any application later - OS, network, CDN, database, client-side, cross-module communication between services in a microservice architecture</li>
</ul>
<h3 id="distributed-caching">Distributed Caching</h3>
<hr />
<h2 id="data-storage">Data Storage</h2>
<ul>
<li>use read-only replica databases to reduce read traffic and as a source for business/financial applications (can be promoted for disaster recovery)</li>
</ul>
<h3 id="data-partitioning">Data Partitioning</h3>
<h3 id="database-sharding">Database Sharding</h3>
<h3 id="indexes">Indexes</h3>
<h3 id="proxies">Proxies</h3>
<h3 id="redundancy-and-replication">Redundancy and Replication</h3>
<h3 id="sql-vs-nosql">SQL vs. NoSQL</h3>
<ul>
<li>RDBs:<ul>
<li>strong consistency</li>
<li>ACID transactions</li>
<li>great for handling relationships</li>
<li>scalable with caching (especially read-heavy applications)</li>
</ul>
</li>
<li>NoSQL<ul>
<li>eventual consistency</li>
<li>horizontal scalability</li>
<li>great for read/write-heavy applications with little relationships</li>
</ul>
</li>
</ul>
<h3 id="cap-theorem">CAP Theorem</h3>
<h3 id="consistent-hashing">Consistent Hashing</h3>
<hr />
<h2 id="message-queues">Message Queues</h2>
<ul>
<li>Allows for communication in an environment with heterogeneous technology</li>
<li>Enables asynchronous behavior in a service to run background processes, tasks, and batch jobs</li>
<li>Cross-module communication in a microservice architecture</li>
<li>Exchanges handle message queue logic<ul>
<li>use binding to deliver messages to queues</li>
</ul>
</li>
</ul>
<h3 id="publisher-subscriber-model">Publisher / Subscriber Model</h3>
<ul>
<li>one to many (broadcast)</li>
<li>allow for filtering of events so that components can subscribe to only the events they need</li>
</ul>
<h3 id="point-to-point-model">Point to Point Model</h3>
<ul>
<li>one to one (entity relationship)</li>
</ul>
<hr />
<h2 id="high-availability">High Availability</h2>
<ul>
<li>Active-Passive HA mode: set of redundant components in standby node awaiting automatic failover</li>
<li>Active-Active HA Mode: set of replicated components that share the workload of the system</li>
<li>Montior: to detect single points of failure and unhealthy components in the system</li>
<li>Automation: to allow for the system to conduct self-healing or handle increased/decreased workloads</li>
</ul>
<hr />
<h2 id="system-testing">System Testing</h2>
<ul>
<li>network bandwidth consumption</li>
<li>throughput</li>
<li>requests processed within a time range</li>
<li>latency</li>
<li>application memory/CPU usage</li>
<li>end-user experience when the system is under a heavy load</li>
</ul>
<hr />
<h2 id="reducing-bottlenecks">Reducing Bottlenecks</h2>
<ul>
<li>horizontally scale workloads servers</li>
<li>distributed databases</li>
<li>asynchronous processes &amp; modules wherever possible (reduce unecessary sequential steps)</li>
<li>data compression</li>
<li>caching (write-through cache) - only hit a database when it is really required</li>
<li>use a CDN</li>
<li>load balancers &amp; efficient configuration</li>
<li>picking the right databases</li>
<li>code refactoring</li>
<li>decoupling</li>
<li>dynamic analysis / profiling (application profiler, code profiler) to see which processes are taking too long and consuming too many resources</li>
<li>avoid unnecessary client-server requests (group them together if possible)</li>
</ul>
<hr />
<h2 id="infrastructure-changes">Infrastructure Changes</h2>
<ul>
<li>should include<ul>
<li>impact analysis</li>
<li>rollback plan</li>
<li>disaster recovery plan</li>
<li>code review / discussion</li>
</ul>
</li>
</ul>
<hr />
<h2 id="cloud-cost-hygiene">Cloud Cost Hygiene</h2>
<ul>
<li>naming conventions</li>
<li>tags (to associate resources to cost centers)<ul>
<li>group</li>
<li>lifecycle</li>
<li>person</li>
<li>application</li>
</ul>
</li>
<li>IT Governance rules</li>
<li>establish user roles and controls</li>
<li>billing alarms</li>
</ul>
<h3 id="storage-costs-considerations">Storage Costs Considerations</h3>
<ul>
<li>storage capacity provisioned/used</li>
<li>data transfer</li>
<li>replication</li>
<li>access patterns</li>
</ul>
<hr />
<h2 id="types-of-architecture">Types of Architecture</h2>
<h3 id="client-server">Client-server</h3>
<h3 id="peer-to-peer-p2p">Peer to Peer (P2P)</h3>
<ul>
<li>blockchain</li>
<li>node to node connections</li>
</ul>
<h3 id="federated">Federated</h3>
<ul>
<li>extension of decenteralized architecture</li>
<li>nodes are grouped and connect to pod servers that enable node discovery</li>
<li>pods connect to each other to form the backbone of the network</li>
</ul>
<h3 id="event-driven">Event-driven</h3>
<ul>
<li>reactive programming (Tornado, Nodejs, akka, etc.)</li>
</ul>
<hr />
<h2 id="notes">Notes</h2>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../linux/" class="btn btn-neutral float-right" title="Linux">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
      
        <span style="margin-left: 15px"><a href="../linux/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
